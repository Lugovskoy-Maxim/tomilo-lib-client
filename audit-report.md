# Аудит файлов и папок проекта tomilo-lib-client

## Общая структура проекта

Проект использует архитектуру Feature-Sliced Design с следующей структурой:
- `src/app` - Next.js App Router страницы
- `src/api` - API клиенты
- `src/constants` - Константы приложения
- `src/contexts` - React контексты
- `src/hooks` - Пользовательские хуки
- `src/lib` - Вспомогательные библиотеки
- `src/shared` - Общие компоненты и утилиты
- `src/store` - Redux Toolkit хранилище
- `src/types` - TypeScript типы
- `src/widgets` - Виджеты приложения

## Анализ дублирующихся компонентов

### Компоненты страницы просмотра тайтла (Title View)

В проекте обнаружены дублирующиеся компоненты для отображения страницы тайтла:

1. **Дублирующиеся клиентские компоненты:**
   - `src/app/titles/[slug]/title-view-client.tsx`
   - `src/app/browse/[titleId]/title-view-client.tsx`

2. **Дублирующиеся компоненты UI:**
   - `src/shared/browse/title-view/` - папка с компонентами (left-sidebar.tsx, mobile-cover.tsx, right-content.tsx, index.ts)
   - `src/shared/browse/title-view.tsx` - монолитный компонент

Оба клиенских компонента используют одни и те же UI компоненты из `src/shared/browse/title-view/`, но находятся в разных местах приложения:
- `src/app/titles/[slug]/title-view-client.tsx` - для страницы тайтла по slug
- `src/app/browse/[titleId]/title-view-client.tsx` - для страницы тайтла по ID

### Компоненты админки

В админке также наблюдается дублирование:
- `src/app/admin/titles/edit/[id]/chapters/page.tsx` - страница управления главами
- `src/app/admin/titles/edit/[id]/chapters/[chatperId]/page.tsx` - страница редактирования конкретной главы

## Анализ неиспользуемых файлов

### Потенциально неиспользуемые компоненты

1. **Монолитный компонент title-view:**
   - `src/shared/browse/title-view.tsx` - не импортируется нигде в проекте
   - Все страницы используют компоненты из `src/shared/browse/title-view/`

2. **Дублирующийся файл adult.tsx:**
   - `src/app/titles/[slug]/adult.tsx`
   - `src/app/browse/[titleId]/adult.tsx`
   - Оба файла содержат идентичный функционал, но находятся в разных местах

### Неиспользуемые константы

1. `src/constants/errors.ts` - не импортируется нигде в проекте
2. `src/constants/forms.ts` - не импортируется нигде в проекте
3. `src/constants/messages.ts` - не импортируется нигде в проекте
4. `src/constants/periods.ts` - не импортируется нигде в проекте
5. `src/constants/terms-of-use.ts` - не импортируется нигде в проекте
6. `src/constants/ui.ts` - не импортируется нигде в проекте
7. `src/constants/uiElements.ts` - не импортируется нигде в проекте
8. `src/constants/validation.ts` - не импортируется нигде в проекте

### Неиспользуемые типы

1. `src/types/auth.ts` - не импортируется нигде в проекте
2. `src/types/auto-parsing.ts` - не импортируется нигде в проекте
3. `src/types/chapter.ts` - не импортируется нигде в проекте
4. `src/types/comment.ts` - не импортируется нигде в проекте
5. `src/types/constants.ts` - не импортируется нигде в проекте
6. `src/types/form.ts` - не импортируется нигде в проекте
7. `src/types/home.ts` - не импортируется нигде в проекте
8. `src/types/manga-parser.ts` - не импортируется нигде в проекте
9. `src/types/notifications.ts` - не импортируется нигде в проекте
10. `src/types/search.ts` - не импортируется нигде в проекте
11. `src/types/stats.ts` - не импортируется нигде в проекте
12. `src/types/store.ts` - не импортируется нигде в проекте
13. `src/types/toast.ts` - не импортируется нигде в проекте
14. `src/types/user.ts` - не импортируется нигде в проекте
15. `src/types/window.d.ts` - не импортируется нигде в проекте

## Рекомендации по оптимизации

### 1. Устранение дублирования компонентов страницы тайтла

Рекомендуется объединить дублирующиеся клиентские компоненты в один общий компонент, который будет использоваться в обоих местах:
- Создать общий компонент `src/shared/browse/title-view-client.tsx`
- Использовать его в обоих страницах с передачей необходимых параметров

### 2. Удаление неиспользуемых файлов

Следующие файлы можно безопасно удалить:
- `src/shared/browse/title-view.tsx` (монолитный компонент)
- Все неиспользуемые константы из `src/constants/`
- Все неиспользуемые типы из `src/types/`

### 3. Объединение дублирующихся функциональных файлов

Следующие файлы содержат идентичный функционал и могут быть объединены:
- `src/app/titles/[slug]/adult.tsx`
- `src/app/browse/[titleId]/adult.tsx`

### 4. Оптимизация структуры админки

Рассмотреть возможность объединения компонентов управления главами в один модуль:
- `src/app/admin/titles/edit/[id]/chapters/page.tsx`
- `src/app/admin/titles/edit/[id]/chapters/[chatperId]/page.tsx`

## Заключение

В проекте наблюдается значительное дублирование компонентов, особенно в части отображения страницы тайтла. Также имеется множество неиспользуемых файлов, которые можно удалить для упрощения структуры проекта. Рекомендуется провести рефакторинг с объединением дублирующихся компонентов и удалением неиспользуемых файлов.